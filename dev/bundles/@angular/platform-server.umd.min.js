!function(global,factory){if("function"==typeof define&&define.amd)define("@angular/platform-server",["exports","@angular/core","@angular/platform-browser","@angular/common","@angular/compiler","@angular/http","rxjs/Observable","rxjs/Subject","url","rxjs/operator/filter","rxjs/operator/first","rxjs/operator/toPromise","parse5","xhr2","parse5","parse5"],factory);else if("undefined"!=typeof exports)factory(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/common"),require("@angular/compiler"),require("@angular/http"),require("rxjs/Observable"),require("rxjs/Subject"),require("url"),require("rxjs/operator/filter"),require("rxjs/operator/first"),require("rxjs/operator/toPromise"),require("parse5"),require("xhr2"),require("parse5"),require("parse5"));else{var mod={exports:{}};factory(mod.exports,global.ng.core,global.ng.platformBrowser,global.ng.common,global.ng.compiler,global.angularHttp,global.rxjsObservable,global.rxjsSubject,global.url,global.rxjsOperatorFilter,global.rxjsOperatorFirst,global.rxjsOperatorToPromise,global.parse5,global.xhr2,global.parse5,global.parse5),global.ng=global.ng||{},global.ng.platformServer=mod.exports}}(this,function(exports,_core,_platformBrowser,_common,_compiler,_http,_Observable,_Subject,_url,_filter,_first,_toPromise,parse5,xhr2,parse5$1,parse5$2){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function httpFactory(c,d){var e=new ZoneMacroTaskBackend(c);return new _http.Http(e,d)}function scheduleMicroTask(c){Zone.current.scheduleMicroTask("scheduleMicrotask",c)}function isPresent(c){return null!=c}function isBlank(c){return null==c}function setValueOnPath(c,d,e){for(var f=d.split("."),g=c;1<f.length;){var h=f.shift();g=g.hasOwnProperty(h)&&null!=g[h]?g[h]:g[h]={}}(void 0===g||null===g)&&(g={}),g[f.shift()]=e}function parseUrl(c){var d=url.parse(c);return{pathname:d.pathname||"",search:d.search||"",hash:d.hash||""}}function _notImplemented(c){return new Error("This method is not implemented in Parse5DomAdapter: "+c)}function parseDocument(c){return parse5$1.parse(c,{treeAdapter:parse5$1.treeAdapters.htmlparser2})}function initParse5Adapter(){return function(){Parse5DomAdapter.makeCurrent()}}function _document(c){var d=c.get(INITIAL_CONFIG,null);return d&&d.document?parseDocument(d.document):(0,_platformBrowser.ɵgetDOM)().createHtmlDocument()}function _getPlatform(c,d){var e=d.extraProviders?d.extraProviders:[];return c([{provide:INITIAL_CONFIG,useValue:{document:d.document,url:d.url}},e])}function _render(c,d){return d.then(function(e){var f=e.injector.get(_platformBrowser.ɵTRANSITION_ID,null);if(!f)throw new Error("renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\nthe server-rendered app can be properly bootstrapped into a client app.");var g=e.injector.get(_core.ApplicationRef);return _toPromise.toPromise.call(_first.first.call(_filter.filter.call(g.isStable,function(h){return h}))).then(function(){var h=c.injector.get(PlatformState).renderToString();return c.destroy(),h})})}function renderModule(c,d){var e=_getPlatform(platformDynamicServer,d);return _render(e,e.bootstrapModule(c))}function renderModuleFactory(c,d){var e=_getPlatform(platformServer,d);return _render(e,e.bootstrapModuleFactory(c))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ɵb=exports.ɵa=exports.ɵe=exports.ɵd=exports.ɵc=exports.ɵf=exports.ɵSERVER_RENDER_PROVIDERS=exports.ɵINTERNAL_SERVER_PLATFORM_PROVIDERS=exports.VERSION=exports.renderModuleFactory=exports.renderModule=exports.INITIAL_CONFIG=exports.platformServer=exports.platformDynamicServer=exports.ServerModule=exports.PlatformState=void 0;var url=_interopRequireWildcard(_url),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PlatformState=function(){function PlatformState(c){_classCallCheck(this,PlatformState),this._doc=c}return _createClass(PlatformState,[{key:"renderToString",value:function(){return(0,_platformBrowser.ɵgetDOM)().getInnerHTML(this._doc)}},{key:"getDocument",value:function(){return this._doc}}]),PlatformState}();PlatformState.decorators=[{type:_core.Injectable}],PlatformState.ctorParameters=function(){return[{type:void 0,decorators:[{type:_core.Inject,args:[_platformBrowser.DOCUMENT]}]}]};var ServerXhr=function(){function ServerXhr(){_classCallCheck(this,ServerXhr)}return _createClass(ServerXhr,[{key:"build",value:function(){return new xhr2.XMLHttpRequest}}]),ServerXhr}();ServerXhr.decorators=[{type:_core.Injectable}],ServerXhr.ctorParameters=function(){return[]};var ServerXsrfStrategy=function(){function ServerXsrfStrategy(){_classCallCheck(this,ServerXsrfStrategy)}return _createClass(ServerXsrfStrategy,[{key:"configureRequest",value:function(){}}]),ServerXsrfStrategy}();ServerXsrfStrategy.decorators=[{type:_core.Injectable}],ServerXsrfStrategy.ctorParameters=function(){return[]};var ZoneMacroTaskConnection=function(){function ZoneMacroTaskConnection(c,d){var _this=this;_classCallCheck(this,ZoneMacroTaskConnection),this.request=c,this.response=new _Observable.Observable(function(e){var f=null,g=!1,h=null,k=null,l=null,q=Zone.current.scheduleMacroTask("ZoneMacroTaskConnection.subscribe",function(){null===l?(e.next(k),e.complete()):e.error(l)},{},function(){return null},function(){g&&(g=!1,h&&(h.unsubscribe(),h=null))});return function(r){f=r,g=!0,_this.lastConnection=d.createConnection(c),h=_this.lastConnection.response.subscribe(function(s){return k=s},function(s){if(!g)throw new Error("invoke twice");l=s,g=!1,f.invoke()},function(){if(!g)throw new Error("invoke twice");g=!1,f.invoke()})}(q),function(){g&&f&&(f.zone.cancelTask(f),g=!1),h&&(h.unsubscribe(),h=null)}})}return _createClass(ZoneMacroTaskConnection,[{key:"readyState",get:function(){return this.lastConnection?this.lastConnection.readyState:_http.ReadyState.Unsent}}]),ZoneMacroTaskConnection}(),ZoneMacroTaskBackend=function(){function ZoneMacroTaskBackend(c){_classCallCheck(this,ZoneMacroTaskBackend),this.backend=c}return _createClass(ZoneMacroTaskBackend,[{key:"createConnection",value:function(c){return new ZoneMacroTaskConnection(c,this.backend)}}]),ZoneMacroTaskBackend}(),SERVER_HTTP_PROVIDERS=[{provide:_http.Http,useFactory:httpFactory,deps:[_http.XHRBackend,_http.RequestOptions]},{provide:_http.BrowserXhr,useClass:ServerXhr},{provide:_http.XSRFStrategy,useClass:ServerXsrfStrategy}],globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,global$1=globalScope;global$1.assert=function(){};var INITIAL_CONFIG=new _core.InjectionToken("Server.INITIAL_CONFIG"),ServerPlatformLocation=function(){function ServerPlatformLocation(c,d){_classCallCheck(this,ServerPlatformLocation),this._doc=c,this._path="/",this._search="",this._hash="",this._hashUpdate=new _Subject.Subject;var e=d;if(e&&e.url){var f=parseUrl(e.url);this._path=f.pathname,this._search=f.search,this._hash=f.hash}}return _createClass(ServerPlatformLocation,[{key:"getBaseHrefFromDOM",value:function(){return(0,_platformBrowser.ɵgetDOM)().getBaseHref(this._doc)}},{key:"onPopState",value:function(){}},{key:"onHashChange",value:function(c){this._hashUpdate.subscribe(c)}},{key:"setHash",value:function(c,d){var _this2=this;if(this._hash!==c){this._hash=c;var e=this.url;scheduleMicroTask(function(){return _this2._hashUpdate.next({type:"hashchange",oldUrl:d,newUrl:e})})}}},{key:"replaceState",value:function(c,d,e){var f=this.url,g=parseUrl(e);this._path=g.pathname,this._search=g.search,this.setHash(g.hash,f)}},{key:"pushState",value:function(c,d,e){this.replaceState(c,d,e)}},{key:"forward",value:function(){throw new Error("Not implemented")}},{key:"back",value:function(){throw new Error("Not implemented")}},{key:"pathname",get:function(){return this._path}},{key:"search",get:function(){return this._search}},{key:"hash",get:function(){return this._hash}},{key:"url",get:function(){return""+this.pathname+this.search+this.hash}}]),ServerPlatformLocation}();ServerPlatformLocation.decorators=[{type:_core.Injectable}],ServerPlatformLocation.ctorParameters=function(){return[{type:void 0,decorators:[{type:_core.Inject,args:[_platformBrowser.DOCUMENT]}]},{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[INITIAL_CONFIG]}]}]};var ListWrapper=function(){function ListWrapper(){_classCallCheck(this,ListWrapper)}return _createClass(ListWrapper,null,[{key:"findLast",value:function(c,d){for(var e=c.length-1;0<=e;e--)if(d(c[e]))return c[e];return null}},{key:"removeAll",value:function(c,d){for(var e=0;e<d.length;++e){var f=c.indexOf(d[e]);-1<f&&c.splice(f,1)}}},{key:"remove",value:function(c,d){var e=c.indexOf(d);return!!(-1<e)&&(c.splice(e,1),!0)}},{key:"equals",value:function(c,d){if(c.length!=d.length)return!1;for(var e=0;e<c.length;++e)if(c[e]!==d[e])return!1;return!0}},{key:"flatten",value:function(c){return c.reduce(function(d,e){var f=Array.isArray(e)?ListWrapper.flatten(e):e;return d.concat(f)},[])}}]),ListWrapper}(),treeAdapter=void 0,_attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},mapProps=["attribs","x-attribsNamespace","x-attribsPrefix"],Parse5DomAdapter=function(_DomAdapter){function Parse5DomAdapter(){return _classCallCheck(this,Parse5DomAdapter),_possibleConstructorReturn(this,(Parse5DomAdapter.__proto__||Object.getPrototypeOf(Parse5DomAdapter)).apply(this,arguments))}return _inherits(Parse5DomAdapter,_DomAdapter),_createClass(Parse5DomAdapter,[{key:"hasProperty",value:function(c,d){return-1<_HTMLElementPropertyList.indexOf(d)}},{key:"setProperty",value:function(c,d,e){"innerHTML"===d?this.setInnerHTML(c,e):"className"===d?c.attribs.class=c.className=e:c[d]=e}},{key:"getProperty",value:function(c,d){return c[d]}},{key:"logError",value:function(c){console.error(c)}},{key:"log",value:function(c){console.log(c)}},{key:"logGroup",value:function(c){console.error(c)}},{key:"logGroupEnd",value:function(){}},{key:"querySelector",value:function(c,d){return this.querySelectorAll(c,d)[0]||null}},{key:"querySelectorAll",value:function(c,d){var _this4=this,e=[],f=function f(h,k,l,m){var o=k.childNodes;if(o&&0<o.length)for(var p=0;p<o.length;p++){var q=o[p];_this4.elementMatches(q,l,m)&&h.push(q),f(h,q,l,m)}},g=new _compiler.SelectorMatcher;return g.addSelectables(_compiler.CssSelector.parse(d)),f(e,c,d,g),e}},{key:"elementMatches",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.isElementNode(c)&&"*"===d)return!0;var f=!1;if(d&&"#"==d.charAt(0))f=this.getAttribute(c,"id")==d.substring(1);else if(d){e||(e=new _compiler.SelectorMatcher,e.addSelectables(_compiler.CssSelector.parse(d)));var g=new _compiler.CssSelector;if(g.setElement(this.tagName(c)),c.attribs)for(var k in c.attribs)g.addAttribute(k,c.attribs[k]);for(var h=this.classList(c),_k=0;_k<h.length;_k++)g.addClassName(h[_k]);e.match(g,function(){f=!0})}return f}},{key:"on",value:function(c,d,e){var f=c._eventListenersMap;f||(f={},c._eventListenersMap=f);var g=f[d]||[];f[d]=[].concat(_toConsumableArray(g),[e])}},{key:"onAndCancel",value:function(c,d,e){return this.on(c,d,e),function(){ListWrapper.remove(c._eventListenersMap[d],e)}}},{key:"dispatchEvent",value:function(c,d){if(d.target||(d.target=c),c._eventListenersMap){var e=c._eventListenersMap[d.type];if(e)for(var f=0;f<e.length;f++)e[f](d)}c.parent&&this.dispatchEvent(c.parent,d),c._window&&this.dispatchEvent(c._window,d)}},{key:"createMouseEvent",value:function(c){return this.createEvent(c)}},{key:"createEvent",value:function(c){var d={type:c,defaultPrevented:!1,preventDefault:function(){d.defaultPrevented=!0}};return d}},{key:"preventDefault",value:function(c){c.returnValue=!1}},{key:"isPrevented",value:function(c){return isPresent(c.returnValue)&&!c.returnValue}},{key:"getInnerHTML",value:function(c){return parse5$1.serialize(this.templateAwareRoot(c),{treeAdapter:treeAdapter})}},{key:"getTemplateContent",value:function(){return null}},{key:"getOuterHTML",value:function(c){var d=treeAdapter.createDocumentFragment();return this.appendChild(d,c),parse5$1.serialize(d,{treeAdapter:treeAdapter})}},{key:"nodeName",value:function(c){return c.tagName}},{key:"nodeValue",value:function(c){return c.nodeValue}},{key:"type",value:function(){throw _notImplemented("type")}},{key:"content",value:function(c){return c.childNodes[0]}},{key:"firstChild",value:function(c){return c.firstChild}},{key:"nextSibling",value:function(c){return c.nextSibling}},{key:"parentElement",value:function(c){return c.parent}},{key:"childNodes",value:function(c){return c.childNodes}},{key:"childNodesAsList",value:function(c){for(var d=c.childNodes,e=Array(d.length),f=0;f<d.length;f++)e[f]=d[f];return e}},{key:"clearNodes",value:function(c){for(;0<c.childNodes.length;)this.remove(c.childNodes[0])}},{key:"appendChild",value:function(c,d){this.remove(d),treeAdapter.appendChild(this.templateAwareRoot(c),d)}},{key:"removeChild",value:function(c,d){-1<c.childNodes.indexOf(d)&&this.remove(d)}},{key:"remove",value:function(c){var d=c.parent;if(d){var g=d.childNodes.indexOf(c);d.childNodes.splice(g,1)}var e=c.previousSibling,f=c.nextSibling;return e&&(e.next=f),f&&(f.prev=e),c.prev=null,c.next=null,c.parent=null,c}},{key:"insertBefore",value:function(c,d,e){this.remove(e),d?treeAdapter.insertBefore(c,e,d):this.appendChild(c,e)}},{key:"insertAllBefore",value:function(c,d,e){var _this5=this;e.forEach(function(f){return _this5.insertBefore(c,d,f)})}},{key:"insertAfter",value:function(c,d,e){d.nextSibling?this.insertBefore(c,d.nextSibling,e):this.appendChild(c,e)}},{key:"setInnerHTML",value:function(c,d){this.clearNodes(c);for(var e=parse5$1.parseFragment(d,{treeAdapter:treeAdapter}),f=0;f<e.childNodes.length;f++)treeAdapter.appendChild(c,e.childNodes[f])}},{key:"getText",value:function(c,d){if(this.isTextNode(c))return c.data;if(this.isCommentNode(c))return d?"":c.data;if(!c.childNodes||0==c.childNodes.length)return"";for(var e="",f=0;f<c.childNodes.length;f++)e+=this.getText(c.childNodes[f],!0);return e}},{key:"setText",value:function(c,d){this.isTextNode(c)||this.isCommentNode(c)?c.data=d:(this.clearNodes(c),""!==d&&treeAdapter.insertText(c,d))}},{key:"getValue",value:function(c){return c.value}},{key:"setValue",value:function(c,d){c.value=d}},{key:"getChecked",value:function(c){return c.checked}},{key:"setChecked",value:function(c,d){c.checked=d}},{key:"createComment",value:function(c){return treeAdapter.createCommentNode(c)}},{key:"createTemplate",value:function(c){var d=treeAdapter.createElement("template","http://www.w3.org/1999/xhtml",[]),e=parse5$1.parseFragment(c,{treeAdapter:treeAdapter});return treeAdapter.setTemplateContent(d,e),d}},{key:"createElement",value:function(c){return treeAdapter.createElement(c,"http://www.w3.org/1999/xhtml",[])}},{key:"createElementNS",value:function(c,d){return treeAdapter.createElement(d,c,[])}},{key:"createTextNode",value:function(c){var d=this.createComment(c);return d.type="text",d}},{key:"createScriptTag",value:function(c,d){return treeAdapter.createElement("script","http://www.w3.org/1999/xhtml",[{name:c,value:d}])}},{key:"createStyleElement",value:function(c){var d=this.createElement("style");return this.setText(d,c),d}},{key:"createShadowRoot",value:function(c){return c.shadowRoot=treeAdapter.createDocumentFragment(),c.shadowRoot.parent=c,c.shadowRoot}},{key:"getShadowRoot",value:function(c){return c.shadowRoot}},{key:"getHost",value:function(c){return c.host}},{key:"getDistributedNodes",value:function(){throw _notImplemented("getDistributedNodes")}},{key:"clone",value:function(c){var d=function d(e){var f=Object.create(Object.getPrototypeOf(e));for(var h in e){var k=Object.getOwnPropertyDescriptor(e,h);k&&"value"in k&&"object"!=_typeof(k.value)&&(f[h]=e[h])}f.parent=null,f.prev=null,f.next=null,f.children=null,mapProps.forEach(function(h){if(isPresent(e[h]))for(var _k2 in f[h]={},e[h])f[h][_k2]=e[h][_k2]});var g=e.children;if(g){for(var _h=Array(g.length),_k3=0;_k3<g.length;_k3++){var l=g[_k3],m=d(l);_h[_k3]=m,0<_k3&&(m.prev=_h[_k3-1],_h[_k3-1].next=m),m.parent=f}f.children=_h}return f};return d(c)}},{key:"getElementsByClassName",value:function(c,d){return this.querySelectorAll(c,"."+d)}},{key:"getElementsByTagName",value:function(c,d){return this.querySelectorAll(c,d)}},{key:"classList",value:function(c){var d=null,e=c.attribs;return e&&null!=e.class&&(d=e.class),d?d.trim().split(/\s+/g):[]}},{key:"addClass",value:function(c,d){var e=this.classList(c),f=e.indexOf(d);-1==f&&(e.push(d),c.attribs.class=c.className=e.join(" "))}},{key:"removeClass",value:function(c,d){var e=this.classList(c),f=e.indexOf(d);-1<f&&(e.splice(f,1),c.attribs.class=c.className=e.join(" "))}},{key:"hasClass",value:function(c,d){return-1<this.classList(c).indexOf(d)}},{key:"hasStyle",value:function(c,d){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this.getStyle(c,d)||"";return e?f==e:0<f.length}},{key:"_readStyleAttribute",value:function(c){var d={},e=c.attribs;if(e&&null!=e.style)for(var f=e.style,g=f.split(/;+/g),h=0;h<g.length;h++)if(0<g[h].length){var k=g[h].split(/:+/g);d[k[0].trim()]=k[1].trim()}return d}},{key:"_writeStyleAttribute",value:function(c,d){var e="";for(var f in d){var g=d[f];g&&(e+=f+":"+d[f]+";")}c.attribs.style=e}},{key:"setStyle",value:function(c,d,e){var f=this._readStyleAttribute(c);f[d]=e,this._writeStyleAttribute(c,f)}},{key:"removeStyle",value:function(c,d){this.setStyle(c,d,null)}},{key:"getStyle",value:function(c,d){var e=this._readStyleAttribute(c);return e.hasOwnProperty(d)?e[d]:""}},{key:"tagName",value:function(c){return"style"==c.tagName?"STYLE":c.tagName}},{key:"attributeMap",value:function(c){for(var d=new Map,e=treeAdapter.getAttrList(c),f=0;f<e.length;f++){var g=e[f];d.set(g.name,g.value)}return d}},{key:"hasAttribute",value:function(c,d){return c.attribs&&null!=c.attribs[d]}},{key:"hasAttributeNS",value:function(){throw"not implemented"}},{key:"getAttribute",value:function(c,d){return this.hasAttribute(c,d)?c.attribs[d]:null}},{key:"getAttributeNS",value:function(){throw"not implemented"}},{key:"setAttribute",value:function(c,d,e){d&&(c.attribs[d]=e,"class"===d&&(c.className=e))}},{key:"setAttributeNS",value:function(){throw"not implemented"}},{key:"removeAttribute",value:function(c,d){d&&delete c.attribs[d]}},{key:"removeAttributeNS",value:function(){throw"not implemented"}},{key:"templateAwareRoot",value:function(c){return this.isTemplateElement(c)?treeAdapter.getTemplateContent(c):c}},{key:"createHtmlDocument",value:function(){var c=treeAdapter.createDocument();c.title="fakeTitle";var d=treeAdapter.createElement("head",null,[]),e=treeAdapter.createElement("body","http://www.w3.org/1999/xhtml",[]);return this.appendChild(c,d),this.appendChild(c,e),c.head=d,c.body=e,c._window={},c}},{key:"getBoundingClientRect",value:function(){return{left:0,top:0,width:0,height:0}}},{key:"getTitle",value:function(c){return c.title||""}},{key:"setTitle",value:function(c,d){c.title=d}},{key:"isTemplateElement",value:function(c){return this.isElementNode(c)&&"template"===this.tagName(c)}},{key:"isTextNode",value:function(c){return treeAdapter.isTextNode(c)}},{key:"isCommentNode",value:function(c){return treeAdapter.isCommentNode(c)}},{key:"isElementNode",value:function(c){return!!c&&treeAdapter.isElementNode(c)}},{key:"hasShadowRoot",value:function(c){return isPresent(c.shadowRoot)}},{key:"isShadowRoot",value:function(c){return this.getShadowRoot(c)==c}},{key:"importIntoDoc",value:function(c){return this.clone(c)}},{key:"adoptNode",value:function(c){return c}},{key:"getHref",value:function(c){return c.href}},{key:"resolveAndSetHref",value:function(c,d,e){c.href=null==e?d:d+"/../"+e}},{key:"_buildRules",value:function(c,d){for(var e=[],f=0;f<c.length;f++){var g=c[f],h={};if(h.cssText=d,h.style={content:"",cssText:""},"rule"==g.type){if(h.type=1,h.selectorText=g.selectors.join(", ".replace(/\s{2,}/g," ").replace(/\s*~\s*/g," ~ ").replace(/\s*\+\s*/g," + ").replace(/\s*>\s*/g," > ").replace(/\[(\w+)=(\w+)\]/g,'[$1="$2"]')),isBlank(g.declarations))continue;for(var k=0;k<g.declarations.length;k++){var l=g.declarations[k];h.style=l.property[l.value],h.style.cssText+=l.property+": "+l.value+";"}}else"media"==g.type&&(h.type=4,h.media={mediaText:g.media},g.rules&&(h.cssRules=this._buildRules(g.rules)));e.push(h)}return e}},{key:"supportsDOMEvents",value:function(){return!1}},{key:"supportsNativeShadowDOM",value:function(){return!1}},{key:"getGlobalEventTarget",value:function(c,d){return"window"==d?c._window:"document"==d?c:"body"==d?c.body:void 0}},{key:"getBaseHref",value:function(c){var d=this.querySelector(c,"base"),e="";return d&&(e=this.getHref(d)),isBlank(e)?null:e}},{key:"resetBaseElement",value:function(){throw"not implemented"}},{key:"getHistory",value:function(){throw"not implemented"}},{key:"getLocation",value:function(){throw"not implemented"}},{key:"getUserAgent",value:function(){return"Fake user agent"}},{key:"getData",value:function(c,d){return this.getAttribute(c,"data-"+d)}},{key:"getComputedStyle",value:function(){throw"not implemented"}},{key:"setData",value:function(c,d,e){this.setAttribute(c,"data-"+d,e)}},{key:"setGlobalVar",value:function(c,d){setValueOnPath(global$1,c,d)}},{key:"supportsWebAnimation",value:function(){return!1}},{key:"performanceNow",value:function(){return Date.now()}},{key:"getAnimationPrefix",value:function(){return""}},{key:"getTransitionEnd",value:function(){return"transitionend"}},{key:"supportsAnimation",value:function(){return!0}},{key:"replaceChild",value:function(){throw new Error("not implemented")}},{key:"parse",value:function(){throw new Error("not implemented")}},{key:"invoke",value:function(){throw new Error("not implemented")}},{key:"getEventKey",value:function(){throw new Error("not implemented")}},{key:"supportsCookies",value:function(){return!1}},{key:"getCookie",value:function(){throw new Error("not implemented")}},{key:"setCookie",value:function(){throw new Error("not implemented")}},{key:"animate",value:function(){throw new Error("not implemented")}},{key:"attrToPropMap",get:function(){return _attrToPropMap}}],[{key:"makeCurrent",value:function(){treeAdapter=parse5$1.treeAdapters.htmlparser2,(0,_platformBrowser.ɵsetRootDomAdapter)(new Parse5DomAdapter)}}]),Parse5DomAdapter}(_platformBrowser.ɵDomAdapter),_HTMLElementPropertyList=["webkitEntries","incremental","webkitdirectory","selectionDirection","selectionEnd","selectionStart","labels","validationMessage","validity","willValidate","width","valueAsNumber","valueAsDate","value","useMap","defaultValue","type","step","src","size","required","readOnly","placeholder","pattern","name","multiple","min","minLength","maxLength","max","list","indeterminate","height","formTarget","formNoValidate","formMethod","formEnctype","formAction","files","form","disabled","dirName","checked","defaultChecked","autofocus","autocomplete","alt","align","accept","onautocompleteerror","onautocomplete","onwaiting","onvolumechange","ontoggle","ontimeupdate","onsuspend","onsubmit","onstalled","onshow","onselect","onseeking","onseeked","onscroll","onresize","onreset","onratechange","onprogress","onplaying","onplay","onpause","onmousewheel","onmouseup","onmouseover","onmouseout","onmousemove","onmouseleave","onmouseenter","onmousedown","onloadstart","onloadedmetadata","onloadeddata","onload","onkeyup","onkeypress","onkeydown","oninvalid","oninput","onfocus","onerror","onended","onemptied","ondurationchange","ondrop","ondragstart","ondragover","ondragleave","ondragenter","ondragend","ondrag","ondblclick","oncuechange","oncontextmenu","onclose","onclick","onchange","oncanplaythrough","oncanplay","oncancel","onblur","onabort","spellcheck","isContentEditable","contentEditable","outerText","innerText","accessKey","hidden","webkitdropzone","draggable","tabIndex","dir","translate","lang","title","childElementCount","lastElementChild","firstElementChild","children","onwebkitfullscreenerror","onwebkitfullscreenchange","nextElementSibling","previousElementSibling","onwheel","onselectstart","onsearch","onpaste","oncut","oncopy","onbeforepaste","onbeforecut","onbeforecopy","shadowRoot","dataset","classList","className","outerHTML","innerHTML","scrollHeight","scrollWidth","scrollTop","scrollLeft","clientHeight","clientWidth","clientTop","clientLeft","offsetParent","offsetHeight","offsetWidth","offsetTop","offsetLeft","localName","prefix","namespaceURI","id","style","attributes","tagName","parentElement","textContent","baseURI","ownerDocument","nextSibling","previousSibling","lastChild","firstChild","childNodes","parentNode","nodeType","nodeValue","nodeName","closure_lm_714617","__jsaction"],EMPTY_ARRAY=[],ServerRendererFactoryV2=function(){function ServerRendererFactoryV2(c,d,e){_classCallCheck(this,ServerRendererFactoryV2),this.ngZone=c,this.document=d,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.schema=new _compiler.DomElementSchemaRegistry,this.defaultRenderer=new DefaultServerRendererV2(d,c,this.schema)}return _createClass(ServerRendererFactoryV2,[{key:"createRenderer",value:function(c,d){if(!c||!d)return this.defaultRenderer;switch(d.encapsulation){case _core.ViewEncapsulation.Emulated:var e=this.rendererByCompId.get(d.id);return e||(e=new EmulatedEncapsulationServerRendererV2(this.document,this.ngZone,this.sharedStylesHost,this.schema,d),this.rendererByCompId.set(d.id,e)),e.applyToHost(c),e;case _core.ViewEncapsulation.Native:throw new Error("Native encapsulation is not supported on the server!");default:if(!this.rendererByCompId.has(d.id)){var _e=(0,_platformBrowser.ɵflattenStyles)(d.id,d.styles,[]);this.sharedStylesHost.addStyles(_e),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}}]),ServerRendererFactoryV2}();ServerRendererFactoryV2.decorators=[{type:_core.Injectable}],ServerRendererFactoryV2.ctorParameters=function(){return[{type:_core.NgZone},{type:void 0,decorators:[{type:_core.Inject,args:[_platformBrowser.DOCUMENT]}]},{type:_platformBrowser.ɵSharedStylesHost}]};var DefaultServerRendererV2=function(){function DefaultServerRendererV2(c,d,e){_classCallCheck(this,DefaultServerRendererV2),this.document=c,this.ngZone=d,this.schema=e,this.data=Object.create(null)}return _createClass(DefaultServerRendererV2,[{key:"destroy",value:function(){}},{key:"createElement",value:function(c,d){return d?(0,_platformBrowser.ɵgetDOM)().createElementNS(_platformBrowser.ɵNAMESPACE_URIS[d],c):(0,_platformBrowser.ɵgetDOM)().createElement(c)}},{key:"createComment",value:function(c){return(0,_platformBrowser.ɵgetDOM)().createComment(c)}},{key:"createText",value:function(c){return(0,_platformBrowser.ɵgetDOM)().createTextNode(c)}},{key:"appendChild",value:function(c,d){(0,_platformBrowser.ɵgetDOM)().appendChild(c,d)}},{key:"insertBefore",value:function(c,d,e){c&&(0,_platformBrowser.ɵgetDOM)().insertBefore(c,e,d)}},{key:"removeChild",value:function(c,d){c&&(0,_platformBrowser.ɵgetDOM)().removeChild(c,d)}},{key:"selectRootElement",value:function(c){var e=void 0;if("string"!=typeof c)e=c;else if(e=(0,_platformBrowser.ɵgetDOM)().querySelector(this.document,c),!e)throw new Error('The selector "'+c+'" did not match any elements');return(0,_platformBrowser.ɵgetDOM)().clearNodes(e),e}},{key:"parentNode",value:function(c){return(0,_platformBrowser.ɵgetDOM)().parentElement(c)}},{key:"nextSibling",value:function(c){return(0,_platformBrowser.ɵgetDOM)().nextSibling(c)}},{key:"setAttribute",value:function(c,d,e,f){f?(0,_platformBrowser.ɵgetDOM)().setAttributeNS(c,_platformBrowser.ɵNAMESPACE_URIS[f],f+":"+d,e):(0,_platformBrowser.ɵgetDOM)().setAttribute(c,d,e)}},{key:"removeAttribute",value:function(c,d,e){e?(0,_platformBrowser.ɵgetDOM)().removeAttributeNS(c,_platformBrowser.ɵNAMESPACE_URIS[e],d):(0,_platformBrowser.ɵgetDOM)().removeAttribute(c,d)}},{key:"addClass",value:function(c,d){(0,_platformBrowser.ɵgetDOM)().addClass(c,d)}},{key:"removeClass",value:function(c,d){(0,_platformBrowser.ɵgetDOM)().removeClass(c,d)}},{key:"setStyle",value:function(c,d,e){(0,_platformBrowser.ɵgetDOM)().setStyle(c,d,e)}},{key:"removeStyle",value:function(c,d){(0,_platformBrowser.ɵgetDOM)().removeStyle(c,d)}},{key:"_isSafeToReflectProperty",value:function(c,d){return this.schema.securityContext(c,d,!0)===this.schema.securityContext(c,d,!1)}},{key:"setProperty",value:function(c,d,e){(0,_platformBrowser.ɵgetDOM)().setProperty(c,d,e);var f=c.tagName.toLowerCase();isPresent(e)&&("number"==typeof e||"string"==typeof e)&&this.schema.hasElement(f,EMPTY_ARRAY)&&this.schema.hasProperty(f,d,EMPTY_ARRAY)&&this._isSafeToReflectProperty(f,d)&&this.setAttribute(c,d,e.toString())}},{key:"setValue",value:function(c,d){(0,_platformBrowser.ɵgetDOM)().setText(c,d)}},{key:"listen",value:function(c,d,e){var _this6=this,f="string"==typeof c?(0,_platformBrowser.ɵgetDOM)().getGlobalEventTarget(this.document,c):c,g=function(h){return _this6.ngZone.runGuarded(function(){return e(h)})};return this.ngZone.runOutsideAngular(function(){return(0,_platformBrowser.ɵgetDOM)().onAndCancel(f,d,g)})}}]),DefaultServerRendererV2}(),EmulatedEncapsulationServerRendererV2=function(_DefaultServerRendere){function EmulatedEncapsulationServerRendererV2(c,d,e,f,g){var _this7;_classCallCheck(this,EmulatedEncapsulationServerRendererV2),_this7=_possibleConstructorReturn(this,(EmulatedEncapsulationServerRendererV2.__proto__||Object.getPrototypeOf(EmulatedEncapsulationServerRendererV2)).call(this,c,d,f)),_this7.component=g;var h=(0,_platformBrowser.ɵflattenStyles)(g.id,g.styles,[]);return e.addStyles(h),_this7.contentAttr=(0,_platformBrowser.ɵshimContentAttribute)(g.id),_this7.hostAttr=(0,_platformBrowser.ɵshimHostAttribute)(g.id),_this7}return _inherits(EmulatedEncapsulationServerRendererV2,_DefaultServerRendere),_createClass(EmulatedEncapsulationServerRendererV2,[{key:"applyToHost",value:function(c){_get(EmulatedEncapsulationServerRendererV2.prototype.__proto__||Object.getPrototypeOf(EmulatedEncapsulationServerRendererV2.prototype),"setAttribute",this).call(this,c,this.hostAttr,"");
}},{key:"createElement",value:function(c,d){var e=_get(EmulatedEncapsulationServerRendererV2.prototype.__proto__||Object.getPrototypeOf(EmulatedEncapsulationServerRendererV2.prototype),"createElement",this).call(this,c,d);return _get(EmulatedEncapsulationServerRendererV2.prototype.__proto__||Object.getPrototypeOf(EmulatedEncapsulationServerRendererV2.prototype),"setAttribute",this).call(this,e,this.contentAttr,""),e}}]),EmulatedEncapsulationServerRendererV2}(DefaultServerRendererV2),ServerStylesHost=function(_SharedStylesHost){function ServerStylesHost(c,d){var _this8;return _classCallCheck(this,ServerStylesHost),_this8=_possibleConstructorReturn(this,(ServerStylesHost.__proto__||Object.getPrototypeOf(ServerStylesHost)).call(this)),_this8.doc=c,_this8.transitionId=d,_this8.head=null,_this8.head=(0,_platformBrowser.ɵgetDOM)().getElementsByTagName(c,"head")[0],_this8}return _inherits(ServerStylesHost,_SharedStylesHost),_createClass(ServerStylesHost,[{key:"_addStyle",value:function(c){var d=(0,_platformBrowser.ɵgetDOM)(),e=d.createElement("style");d.setText(e,c),!this.transitionId||d.setAttribute(e,"ng-transition",this.transitionId),d.appendChild(this.head,e)}},{key:"onStylesAdded",value:function(c){var _this9=this;c.forEach(function(d){return _this9._addStyle(d)})}}]),ServerStylesHost}(_platformBrowser.ɵSharedStylesHost);ServerStylesHost.decorators=[{type:_core.Injectable}],ServerStylesHost.ctorParameters=function(){return[{type:void 0,decorators:[{type:_core.Inject,args:[_platformBrowser.DOCUMENT]}]},{type:void 0,decorators:[{type:_core.Optional},{type:_core.Inject,args:[_platformBrowser.ɵTRANSITION_ID]}]}]};var INTERNAL_SERVER_PLATFORM_PROVIDERS=[{provide:_platformBrowser.DOCUMENT,useFactory:_document,deps:[_core.Injector]},{provide:_core.PLATFORM_ID,useValue:_common.ɵPLATFORM_SERVER_ID},{provide:_core.PLATFORM_INITIALIZER,useFactory:initParse5Adapter,multi:!0,deps:[_core.Injector]},{provide:_common.PlatformLocation,useClass:ServerPlatformLocation},PlatformState,{provide:_core.ɵALLOW_MULTIPLE_PLATFORMS,useValue:!0}],SERVER_RENDER_PROVIDERS=[ServerRendererFactoryV2,{provide:_core.RendererFactoryV2,useExisting:ServerRendererFactoryV2},ServerStylesHost,{provide:_platformBrowser.ɵSharedStylesHost,useExisting:ServerStylesHost}],ServerModule=function ServerModule(){_classCallCheck(this,ServerModule)};ServerModule.decorators=[{type:_core.NgModule,args:[{exports:[_platformBrowser.BrowserModule],imports:[_http.HttpModule],providers:[SERVER_RENDER_PROVIDERS,SERVER_HTTP_PROVIDERS,{provide:_core.Testability,useValue:null}]}]}],ServerModule.ctorParameters=function(){return[]};var platformServer=(0,_core.createPlatformFactory)(_core.platformCore,"server",INTERNAL_SERVER_PLATFORM_PROVIDERS),platformDynamicServer=(0,_core.createPlatformFactory)(_compiler.platformCoreDynamic,"serverDynamic",INTERNAL_SERVER_PLATFORM_PROVIDERS),VERSION=new _core.Version("4.0.0-rc.2");exports.PlatformState=PlatformState,exports.ServerModule=ServerModule,exports.platformDynamicServer=platformDynamicServer,exports.platformServer=platformServer,exports.INITIAL_CONFIG=INITIAL_CONFIG,exports.renderModule=renderModule,exports.renderModuleFactory=renderModuleFactory,exports.VERSION=VERSION,exports.ɵINTERNAL_SERVER_PLATFORM_PROVIDERS=INTERNAL_SERVER_PLATFORM_PROVIDERS,exports.ɵSERVER_RENDER_PROVIDERS=SERVER_RENDER_PROVIDERS,exports.ɵf=SERVER_HTTP_PROVIDERS,exports.ɵc=ServerXhr,exports.ɵd=ServerXsrfStrategy,exports.ɵe=httpFactory,exports.ɵa=ServerRendererFactoryV2,exports.ɵb=ServerStylesHost});